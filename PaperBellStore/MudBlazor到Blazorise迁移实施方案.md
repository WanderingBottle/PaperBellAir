# MudBlazor åˆ° Blazorise è¿ç§»å®æ–½æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®åŸºäº ABP æ¡†æ¶çš„ Blazor åº”ç”¨ï¼Œä½¿ç”¨ LeptonXLite ä¸»é¢˜å’Œ Blazorise ç»„ä»¶åº“ã€‚ç›®å‰é¡¹ç›®ä¸­åŒæ—¶é›†æˆäº† MudBlazor 8.0ï¼Œä¸ºäº†ç»Ÿä¸€ç»„ä»¶åº“ï¼Œéœ€è¦å°†æ‰€æœ‰ MudBlazor ç»„ä»¶æ›¿æ¢ä¸º Blazorise å¯¹åº”ç»„ä»¶ã€‚

## ğŸ¯ è¿ç§»ç›®æ ‡

1. **å®Œå…¨ç§»é™¤ MudBlazor** ç›¸å…³ä¾èµ–å’Œå¼•ç”¨
2. **ä¿æŒç°æœ‰åŠŸèƒ½ä¸å˜**ï¼Œç¡®ä¿ç”¨æˆ·ä½“éªŒä¸€è‡´
3. **ç»Ÿä¸€ä½¿ç”¨ Blazorise** ç»„ä»¶åº“ï¼Œç®€åŒ–ç»´æŠ¤

## ğŸ“Š ç»„ä»¶æ˜ å°„è¡¨

### åŸºç¡€å¸ƒå±€ç»„ä»¶

| MudBlazor ç»„ä»¶        | Blazorise ç»„ä»¶                 | è¯´æ˜                       |
| --------------------- | ------------------------------ | -------------------------- |
| `MudContainer`        | `Container`                    | å®¹å™¨ç»„ä»¶                   |
| `MudCard`             | `Card`                         | å¡ç‰‡ç»„ä»¶                   |
| `MudCardContent`      | `CardBody`                     | å¡ç‰‡å†…å®¹                   |
| `MudGrid` / `MudItem` | `Row` / `Column`               | ç½‘æ ¼å¸ƒå±€                   |
| `MudStack`            | `Row` / `Column` + Flex å·¥å…·ç±» | å †å å¸ƒå±€                   |
| `MudPaper`            | `Card`                         | çº¸å¼ æ•ˆæœï¼ˆå¯ç”¨ Card æ›¿ä»£ï¼‰ |
| `MudDivider`          | `Divider`                      | åˆ†å‰²çº¿                     |

### æ–‡æœ¬å’Œå›¾æ ‡

| MudBlazor ç»„ä»¶ | Blazorise ç»„ä»¶                                | è¯´æ˜     |
| -------------- | --------------------------------------------- | -------- |
| `MudText`      | HTML æ ‡ç­¾ (`<h1>`, `<p>`, `<span>`) æˆ– `Text` | æ–‡æœ¬ç»„ä»¶ |
| `MudIcon`      | `Icon`                                        | å›¾æ ‡ç»„ä»¶ |

### è¡¨å•ç»„ä»¶

| MudBlazor ç»„ä»¶                | Blazorise ç»„ä»¶          | è¯´æ˜       |
| ----------------------------- | ----------------------- | ---------- |
| `MudButton`                   | `Button`                | æŒ‰é’®       |
| `MudTextField`                | `TextEdit`              | æ–‡æœ¬è¾“å…¥æ¡† |
| `MudSelect` / `MudSelectItem` | `Select` / `SelectItem` | ä¸‹æ‹‰é€‰æ‹©   |
| `MudDatePicker`               | `DateEdit`              | æ—¥æœŸé€‰æ‹©å™¨ |
| `MudCheckBox`                 | `Check`                 | å¤é€‰æ¡†     |

### æ•°æ®å±•ç¤ºç»„ä»¶

| MudBlazor ç»„ä»¶      | Blazorise ç»„ä»¶      | è¯´æ˜                 |
| ------------------- | ------------------- | -------------------- |
| `MudDataGrid`       | `DataGrid`          | æ•°æ®è¡¨æ ¼ï¼ˆå·²åœ¨ä½¿ç”¨ï¼‰ |
| `MudDataGridPager`  | `DataGrid` å†…ç½®åˆ†é¡µ | åˆ†é¡µå™¨               |
| `MudChip`           | `Badge`             | æ ‡ç­¾/å¾½ç«             |
| `MudTooltip`        | `Tooltip`           | å·¥å…·æç¤º             |
| `MudProgressLinear` | `Progress`          | è¿›åº¦æ¡               |
| `MudAlert`          | `Alert`             | è­¦å‘Šæç¤º             |
| `MudPagination`     | `Pagination`        | åˆ†é¡µç»„ä»¶             |

### äº¤äº’ç»„ä»¶

| MudBlazor ç»„ä»¶                             | Blazorise ç»„ä»¶      | è¯´æ˜          |
| ------------------------------------------ | ------------------- | ------------- |
| `MudDialog`                                | `Modal`             | å¯¹è¯æ¡†/æ¨¡æ€æ¡† |
| `MudTabs` / `MudTabPanel`                  | `Tabs` / `TabPanel` | æ ‡ç­¾é¡µ        |
| `MudExpansionPanels` / `MudExpansionPanel` | `Collapse`          | æŠ˜å é¢æ¿      |

### æœåŠ¡æ¥å£

| MudBlazor æœåŠ¡   | Blazorise æœåŠ¡    | è¯´æ˜         |
| ---------------- | ----------------- | ------------ |
| `IDialogService` | `IModalService`   | å¯¹è¯æ¡†æœåŠ¡   |
| `ISnackbar`      | `IMessageService` | æ¶ˆæ¯æç¤ºæœåŠ¡ |

## ğŸ”„ è¯¦ç»†æ›¿æ¢æ–¹æ¡ˆ

### 1. é…ç½®å’Œä¾èµ–ç§»é™¤

#### 1.1 ç§»é™¤ NuGet åŒ…

**æ–‡ä»¶**: `PaperBellStore.Blazor.csproj`

- ç§»é™¤ `<PackageReference Include="MudBlazor" Version="8.0.0" />`

#### 1.2 ç§»é™¤æœåŠ¡æ³¨å†Œ

**æ–‡ä»¶**: `PaperBellStoreBlazorModule.cs`

- ç§»é™¤ `using MudBlazor.Services;`
- ç§»é™¤ `context.Services.AddMudServices();`

#### 1.3 ç§»é™¤å¼•ç”¨

**æ–‡ä»¶**: `_Imports.razor`

- ç§»é™¤ `@using MudBlazor`

#### 1.4 ç§»é™¤ CSS/JS å¼•ç”¨

**æ–‡ä»¶**: `App.razor`

- ç§»é™¤ Google Fonts (Roboto) å¼•ç”¨
- ç§»é™¤ `_content/MudBlazor/MudBlazor.min.css`
- ç§»é™¤ `_content/MudBlazor/MudBlazor.min.js`

#### 1.5 ç§»é™¤ Provider ç»„ä»¶

**æ–‡ä»¶**: `Routes.razor`

- ç§»é™¤ `<MudThemeProvider />`
- ç§»é™¤ `<MudDialogProvider />`
- ç§»é™¤ `<MudPopoverProvider />`

### 2. ç»„ä»¶æ›¿æ¢è¯¦ç»†è¯´æ˜

#### 2.1 å¸ƒå±€ç»„ä»¶æ›¿æ¢

**MudContainer â†’ Container**

```razor
<!-- MudBlazor -->
<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-4">
    ...
</MudContainer>

<!-- Blazorise -->
<Container Class="mt-4">
    ...
</Container>
```

**MudCard â†’ Card**

```razor
<!-- MudBlazor -->
<MudCard Elevation="3">
    <MudCardContent>
        ...
    </MudCardContent>
</MudCard>

<!-- Blazorise -->
<Card>
    <CardBody>
        ...
    </CardBody>
</Card>
```

**MudGrid â†’ Row/Column**

```razor
<!-- MudBlazor -->
<MudGrid Spacing="3">
    <MudItem xs="12" sm="6" md="3">
        ...
    </MudItem>
</MudGrid>

<!-- Blazorise -->
<Row>
    <Column ColumnSize="ColumnSize.Is12.OnMobile.Is6.OnTablet.Is3.OnDesktop">
        ...
    </Column>
</Row>
```

**MudStack â†’ Row/Column**

```razor
<!-- MudBlazor -->
<MudStack Row="true" Spacing="2" Justify="Justify.SpaceBetween">
    ...
</MudStack>

<!-- Blazorise -->
<Row JustifyContent="JustifyContent.Between">
    <Column ColumnSize="ColumnSize.IsAuto">
        ...
    </Column>
</Row>
```

#### 2.2 æ–‡æœ¬å’Œå›¾æ ‡æ›¿æ¢

**MudText â†’ HTML æ ‡ç­¾æˆ– Text ç»„ä»¶**

```razor
<!-- MudBlazor -->
<MudText Typo="Typo.h5">æ ‡é¢˜</MudText>
<MudText Class="text-center">å±…ä¸­æ–‡æœ¬</MudText>
<MudText>æ™®é€šæ–‡æœ¬</MudText>

<!-- Blazorise -->
<h5>æ ‡é¢˜</h5>
<!-- æ³¨æ„ï¼šText ç»„ä»¶ä¸æ”¯æŒ Class å±æ€§ï¼Œéœ€è¦ä½¿ç”¨ HTML æ ‡ç­¾ -->
<div class="text-center">å±…ä¸­æ–‡æœ¬</div>
<!-- æˆ–ä½¿ç”¨ -->
<Text>æ™®é€šæ–‡æœ¬</Text>
```

**é‡è¦è¯´æ˜**ï¼š

- âœ… **å·²éªŒè¯**ï¼šBlazorise çš„ `Text` ç»„ä»¶ä¸æ”¯æŒ `Class` å±æ€§ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ `RZ1023`
- å¦‚æœéœ€è¦æ·»åŠ  CSS ç±»ï¼Œä½¿ç”¨ HTML æ ‡ç­¾ï¼ˆå¦‚ `<div>`, `<span>`, `<p>` ç­‰ï¼‰è€Œä¸æ˜¯ `Text` ç»„ä»¶
- `Text` ç»„ä»¶é€‚ç”¨äºçº¯æ–‡æœ¬å†…å®¹ï¼Œä¸éœ€è¦æ ·å¼ç±»çš„æƒ…å†µ

**MudIcon â†’ Icon**

```razor
<!-- MudBlazor -->
<MudIcon Icon="@Icons.Material.Filled.Search" Size="@MudBlazor.Size.Small" />

<!-- Blazorise -->
<Icon Name="IconName.Search" Size="IconSize.Small" />
```

#### 2.3 è¡¨å•ç»„ä»¶æ›¿æ¢

**MudButton â†’ Button**

```razor
<!-- MudBlazor -->
<MudButton Variant="Variant.Filled" Color="@MudBlazor.Color.Primary"
           StartIcon="@Icons.Material.Filled.Search" OnClick="LoadLogs">
    æœç´¢
</MudButton>

<!-- Blazorise -->
<Button Color="Color.Primary" Clicked="LoadLogs">
    <Icon Name="IconName.Search" />
    æœç´¢
</Button>
```

**MudTextField â†’ TextEdit**

```razor
<!-- MudBlazor -->
<MudTextField @bind-Value="searchText" Label="æœç´¢æ¶ˆæ¯"
              Variant="Variant.Outlined" Placeholder="æœç´¢æ—¥å¿—æ¶ˆæ¯..."
              Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" />

<!-- Blazorise -->
<Field>
    <FieldLabel>æœç´¢æ¶ˆæ¯</FieldLabel>
    <TextEdit @bind-Text="searchText" Placeholder="æœç´¢æ—¥å¿—æ¶ˆæ¯...">
        <Feedback>
            <Icon Name="IconName.Search" />
        </Feedback>
    </TextEdit>
</Field>
```

**MudSelect â†’ Select**

```razor
<!-- MudBlazor -->
<MudSelect T="string" @bind-Value="selectedLevel" Label="æ—¥å¿—çº§åˆ«"
           Variant="Variant.Outlined" Clearable>
    <MudSelectItem T="string" Value="@((string?)null)">å…¨éƒ¨</MudSelectItem>
    <MudSelectItem T="string" Value="@("Error")">Error</MudSelectItem>
</MudSelect>

<!-- Blazorise -->
<Field>
    <FieldLabel>æ—¥å¿—çº§åˆ«</FieldLabel>
    <Select TValue="string" SelectedValue="selectedLevel"
            SelectedValueChanged="@((string value) => selectedLevel = value)">
        <SelectItem TValue="string" Value="@((string?)null)">å…¨éƒ¨</SelectItem>
        <SelectItem TValue="string" Value="@("Error")">Error</SelectItem>
    </Select>
</Field>
```

**MudDatePicker â†’ DateEditï¼ˆä»…æ—¥æœŸï¼‰**

```razor
<!-- MudBlazor -->
<MudDatePicker @bind-Date="startDate" Label="å¼€å§‹æ—¥æœŸ"
               Variant="Variant.Outlined" DateFormat="yyyy-MM-dd" />

<!-- Blazorise -->
<Field>
    <FieldLabel>å¼€å§‹æ—¥æœŸ</FieldLabel>
    <DateEdit @bind-Date="startDate" DisplayFormat="yyyy-MM-dd" />
</Field>
```

**MudDatePickerï¼ˆå¸¦æ—¶é—´ï¼‰â†’ DateEdit + TimeEditï¼ˆç»„åˆæ–¹æ¡ˆï¼‰**

```razor
<!-- MudBlazor -->
<MudDatePicker @bind-Date="startDateTime" Label="å¼€å§‹æ—¶é—´"
               Variant="Variant.Outlined" DateFormat="yyyy-MM-dd HH:mm"
               TimePicker="true" />

<!-- Blazorise - æ–¹æ¡ˆAï¼šä½¿ç”¨ä¸¤ä¸ªç»„ä»¶ï¼ˆæ¨èï¼‰ -->
<Row>
    <Column ColumnSize="ColumnSize.Is6">
        <Field>
            <FieldLabel>å¼€å§‹æ—¥æœŸ</FieldLabel>
            <DateEdit @bind-Date="startDate" />
        </Field>
    </Column>
    <Column ColumnSize="ColumnSize.Is6">
        <Field>
            <FieldLabel>å¼€å§‹æ—¶é—´</FieldLabel>
            <TimeEdit @bind-Time="startTime" />
        </Field>
    </Column>
</Row>

@code {
    private DateTime? startDate;
    private TimeSpan? startTime;

    // åˆå¹¶æ—¥æœŸå’Œæ—¶é—´çš„å±æ€§
    private DateTime? StartDateTime
    {
        get => startDate.HasValue && startTime.HasValue
            ? startDate.Value.Date.Add(startTime.Value)
            : null;
        set
        {
            if (value.HasValue)
            {
                startDate = value.Value.Date;
                startTime = value.Value.TimeOfDay;
            }
            else
            {
                startDate = null;
                startTime = null;
            }
        }
    }
}
```

**æ³¨æ„**ï¼šBlazorise çš„ `DateEdit` ä¸æ”¯æŒæ—¶é—´é€‰æ‹©ï¼Œå¦‚æœéœ€è¦æ—¶é—´é€‰æ‹©åŠŸèƒ½ï¼Œå¿…é¡»ä½¿ç”¨ `DateEdit` + `TimeEdit` ç»„åˆï¼Œæˆ–åœ¨ä»£ç ä¸­åˆå¹¶æ—¥æœŸå’Œæ—¶é—´ã€‚

**MudCheckBox â†’ Check**

```razor
<!-- MudBlazor -->
<MudCheckBox @bind-Value="onlyExceptions" Label="ä»…æ˜¾ç¤ºå¼‚å¸¸"
             Color="@MudBlazor.Color.Error" />

<!-- Blazorise -->
<Field>
    <Check TValue="bool" @bind-Checked="onlyExceptions" Color="Color.Danger">
        ä»…æ˜¾ç¤ºå¼‚å¸¸
    </Check>
</Field>
```

#### 2.4 æ•°æ®å±•ç¤ºç»„ä»¶æ›¿æ¢

**MudDataGrid â†’ DataGrid**

```razor
<!-- MudBlazor -->
<MudDataGrid T="AppLog" @ref="dataGrid" ServerData="@LoadServerData"
             Hover="true" Striped="true" Dense="true" ReadOnly="true"
             FilterMode="@MudBlazor.DataGridFilterMode.Simple"
             NoDataContent="æš‚æ— æ•°æ®" Loading="@isLoading">
    <Columns>
        <PropertyColumn Property="@(x => x.Timestamp)" Title="æ—¶é—´" />
    </Columns>
</MudDataGrid>

<!-- Blazorise -->
<DataGrid TItem="AppLog" @ref="dataGrid" Data="@logItems" ReadData="@OnReadData"
          Hoverable="true" Striped="true" Responsive="true"
          ShowPager="true" PageSize="20" TotalItems="@totalCount"
          Class="mt-3">
    <EmptyTemplate>
        <Text>æš‚æ— æ•°æ®</Text>
    </EmptyTemplate>
    <DataGridColumns>
        <DataGridColumn TItem="AppLog" Field="@nameof(AppLog.Timestamp)"
                        Caption="æ—¶é—´" Sortable="true"
                        DisplayFormat="yyyy-MM-dd HH:mm:ss" />
        <DataGridColumn TItem="AppLog" Field="@nameof(AppLog.Level)"
                        Caption="çº§åˆ«" Sortable="true">
            <DisplayTemplate>
                <Badge Color="@GetLevelColor(context.Level)">
                    @context.Level
                </Badge>
            </DisplayTemplate>
        </DataGridColumn>
    </DataGridColumns>
</DataGrid>

@code {
    private DataGrid<AppLog>? dataGrid;
    private List<AppLog>? logItems; // å­˜å‚¨æ•°æ®ç”¨äº DataGrid çš„ Data å±æ€§
    private bool isLoading = false;
    private int totalCount = 0;

    private async Task OnReadData(DataGridReadDataEventArgs<AppLog> e)
    {
        try
        {
            isLoading = true;
            StateHasChanged();

            // è·å–åˆ†é¡µä¿¡æ¯
            var page = e.Page;
            var pageSize = e.PageSize;

            // åœ¨ Unit of Work èŒƒå›´å†…ä½¿ç”¨ DbContext
            using var uow = UnitOfWorkManager.Begin(requiresNew: true);
            var dbContext = await LogDbContextProvider.GetDbContextAsync();
            var query = dbContext.AppLogs.AsQueryable();

            // åº”ç”¨è¿‡æ»¤æ¡ä»¶
            if (!string.IsNullOrEmpty(selectedLevel))
            {
                query = query.Where(x => x.Level == selectedLevel);
            }
            if (startDate.HasValue)
            {
                query = query.Where(x => x.Timestamp >= startDate.Value);
            }
            if (endDate.HasValue)
            {
                query = query.Where(x => x.Timestamp <= endDate.Value.AddDays(1));
            }
            if (!string.IsNullOrEmpty(searchText))
            {
                query = query.Where(x => x.Message != null && x.Message.Contains(searchText));
            }

            // è·å–æ€»æ•°
            totalCount = await query.CountAsync();

            // åº”ç”¨æ’åº - ä» e.Columns è·å–æ’åºä¿¡æ¯
            if (e.Columns != null && e.Columns.Any(c => c.SortDirection != SortDirection.Default))
            {
                var sortColumn = e.Columns.FirstOrDefault(c => c.SortDirection != SortDirection.Default);
                if (sortColumn != null)
                {
                    query = sortColumn.Field switch
                    {
                        nameof(AppLog.Timestamp) => sortColumn.SortDirection == SortDirection.Descending
                            ? query.OrderByDescending(x => x.Timestamp)
                            : query.OrderBy(x => x.Timestamp),
                        nameof(AppLog.Level) => sortColumn.SortDirection == SortDirection.Descending
                            ? query.OrderByDescending(x => x.Level)
                            : query.OrderBy(x => x.Level),
                        _ => query.OrderByDescending(x => x.Timestamp) // é»˜è®¤æŒ‰æ—¶é—´å€’åº
                    };
                }
                else
                {
                    query = query.OrderByDescending(x => x.Timestamp);
                }
            }
            else
            {
                query = query.OrderByDescending(x => x.Timestamp);
            }

            // åˆ†é¡µæŸ¥è¯¢
            var items = await query
                .Skip(page * pageSize)
                .Take(pageSize)
                .ToListAsync();

            await uow.CompleteAsync();

            // å­˜å‚¨æ•°æ®åˆ°ç»„ä»¶çŠ¶æ€ï¼ˆç”¨äº DataGrid çš„ Data å±æ€§ï¼‰
            logItems = items;
            totalCount = totalCount;
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "åŠ è½½æ—¥å¿—åˆ—è¡¨å¤±è´¥");
            logItems = new List<AppLog>();
            totalCount = 0;
        }
        finally
        {
            isLoading = false;
            StateHasChanged();
        }
    }
}
```

**é‡è¦è¯´æ˜**ï¼š

- âœ… **å·²éªŒè¯**ï¼šBlazorise DataGrid çš„ `ReadData` æ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨ `DataGridReadDataEventArgs<T>` äº‹ä»¶å‚æ•°
- âœ… **å·²éªŒè¯**ï¼šéœ€è¦åœ¨ç»„ä»¶ä¸­ç»´æŠ¤æ•°æ®åˆ—è¡¨ï¼ˆå¦‚ `logItems`ï¼‰ï¼Œå¹¶åœ¨ DataGrid ä¸Šç»‘å®š `Data="@logItems"` å’Œ `TotalItems="@totalCount"`
- âœ… **å·²éªŒè¯**ï¼šæ’åºä¿¡æ¯ä» `e.Columns` è·å–ï¼Œæ£€æŸ¥æ¯ä¸ªåˆ—çš„ `SortDirection` æ˜¯å¦ä¸º `SortDirection.Default`
- âœ… **å·²éªŒè¯**ï¼šä½¿ç”¨ `SortDirection.Default` è¡¨ç¤ºæ— æ’åºï¼Œè€Œä¸æ˜¯ `SortDirection.None`ï¼ˆä¸å­˜åœ¨ï¼‰
- åˆ†é¡µä¿¡æ¯é€šè¿‡ `e.Page` å’Œ `e.PageSize` è·å–
- éœ€è¦æ·»åŠ  `using Blazorise.DataGrid;` å’Œ `using Blazorise;` å¼•ç”¨

**MudChip â†’ Badge**

```razor
<!-- MudBlazor -->
<MudChip T="string" Size="@MudBlazor.Size.Small" Color="@MudBlazor.Color.Primary">
    å…± @totalCount æ¡
</MudChip>

<!-- Blazorise -->
<Badge Color="Color.Primary" Pill="true">
    å…± @totalCount æ¡
</Badge>
```

**MudTooltip â†’ Tooltip**

```razor
<!-- MudBlazor -->
<MudTooltip Text="@context.Item.Message">
    <MudText>@context.Item.Message</MudText>
</MudTooltip>

<!-- Blazorise -->
<Tooltip Text="@context.Item.Message">
    <Text>@context.Item.Message</Text>
</Tooltip>
```

**MudProgressLinear â†’ Progress**

```razor
<!-- MudBlazor -->
<MudProgressLinear Color="@MudBlazor.Color.Primary" Indeterminate="true" />

<!-- Blazorise -->
<Progress Color="Color.Primary" Animated="true" />
```

**MudAlert â†’ Alert**

```razor
<!-- MudBlazor -->
<MudAlert Severity="Severity.Info">
    <MudIcon Icon="@Icons.Material.Filled.Info" />
    æš‚æ— æ•°æ®
</MudAlert>

<!-- Blazorise -->
<Alert Color="Color.Info">
    <Icon Name="IconName.Info" />
    æš‚æ— æ•°æ®
</Alert>
```

**MudPagination â†’ Pagination**

```razor
<!-- MudBlazor -->
<MudPagination Count="@totalPages" Selected="@currentPage"
               SelectedChanged="@((int page) => ChangePage(page))" />

<!-- Blazorise -->
<Pagination TotalItems="@totalCount" CurrentPage="@currentPage"
            CurrentPageChanged="@((int page) => ChangePage(page))" />
```

#### 2.5 äº¤äº’ç»„ä»¶æ›¿æ¢

**MudDialog â†’ Modal**

```razor
<!-- MudBlazor -->
@inject IDialogService DialogService

private async Task ShowDialog()
{
    var parameters = new DialogParameters { ["Log"] = log };
    var options = new DialogOptions { MaxWidth = MaxWidth.Large };
    await DialogService.ShowAsync<LogDetailDialog>("æ—¥å¿—è¯¦æƒ…", parameters, options);
}

<!-- Blazorise - æ­£ç¡®æ–¹å¼ï¼šä½¿ç”¨ builder.Add è¡¨è¾¾å¼è¯­æ³• -->
@inject IModalService ModalService

private async Task ShowLogDetail(AppLog log)
{
    await ModalService.Show<LogDetailDialog>(builder =>
    {
        builder.Add(x => x.Log, log);
    });
}
```

**é‡è¦è¯´æ˜**ï¼š

- âœ… **å·²éªŒè¯**ï¼šBlazorise 1.7.6 ä½¿ç”¨ `builder.Add(x => x.Property, value)` è¡¨è¾¾å¼è¯­æ³•ä¼ é€’å‚æ•°
- âŒ **é”™è¯¯æ–¹å¼**ï¼šä¸è¦ä½¿ç”¨ `AddParameter` æ–¹æ³•ï¼ˆä¸å­˜åœ¨ï¼‰
- âŒ **é”™è¯¯æ–¹å¼**ï¼šä¸è¦ä½¿ç”¨å­—å…¸æ–¹å¼ä¼ å‚ï¼ˆAPI ä¸æ”¯æŒï¼‰
- Modal ç»„ä»¶ä¸­éœ€è¦ä½¿ç”¨ `[Parameter]` å±æ€§æ¥æ”¶å‚æ•°
- éœ€è¦æ·»åŠ  `using Blazorise;` å¼•ç”¨

**å¯¹è¯æ¡†ç»„ä»¶æœ¬èº«**

```razor
<!-- MudBlazor -->
<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">æ—¥å¿—è¯¦æƒ…</MudText>
    </TitleContent>
    <DialogContent>
        @if (Log != null)
        {
            <MudText><strong>æ—¶é—´:</strong> @Log.Timestamp.ToString("yyyy-MM-dd HH:mm:ss")</MudText>
            <MudText><strong>çº§åˆ«:</strong> @Log.Level</MudText>
            <MudText><strong>æ¶ˆæ¯:</strong> @Log.Message</MudText>
        }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">å…³é—­</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] IMudDialogInstance? MudDialog { get; set; }
    [Parameter] public AppLog? Log { get; set; }
    private void Cancel() => MudDialog?.Cancel();
}

<!-- Blazorise -->
<ModalContent>
    <ModalHeader>
        <ModalTitle>æ—¥å¿—è¯¦æƒ…</ModalTitle>
    </ModalHeader>
    <ModalBody>
        @if (Log != null)
        {
            <Row>
                <Column ColumnSize="ColumnSize.Is12">
                    <Text><strong>æ—¶é—´:</strong> @Log.Timestamp.ToString("yyyy-MM-dd HH:mm:ss")</Text>
                </Column>
                <Column ColumnSize="ColumnSize.Is12">
                    <Text><strong>çº§åˆ«:</strong></Text>
                    <Badge Color="@GetLevelColor(Log.Level)">@Log.Level</Badge>
                </Column>
                <Column ColumnSize="ColumnSize.Is12">
                    <Text><strong>æ¶ˆæ¯:</strong></Text>
                    <Card>
                        <CardBody>
                            <Text>@Log.Message</Text>
                        </CardBody>
                    </Card>
                </Column>
            </Row>
        }
    </ModalBody>
    <ModalFooter>
        <Button Color="Color.Secondary" Clicked="Cancel">å…³é—­</Button>
    </ModalFooter>
</ModalContent>

@code {
    [CascadingParameter] protected ModalInstance ModalInstance { get; set; } = default!;

    [Inject] protected IModalService ModalService { get; set; } = default!;

    [Parameter] public AppLog Log { get; set; } = default!;

    private async Task Cancel()
    {
        await ModalService.Hide(ModalInstance);
    }

    private Color GetLevelColor(string? level)
    {
        return level switch
        {
            "Verbose" => Color.Secondary,
            "Debug" => Color.Info,
            "Information" => Color.Primary,
            "Warning" => Color.Warning,
            "Error" => Color.Danger,
            "Fatal" => Color.Dark,
            _ => Color.Secondary
        };
    }
}
```

**é‡è¦è¯´æ˜**ï¼š

- âœ… **å·²éªŒè¯**ï¼šå…³é—­ Modal éœ€è¦ä½¿ç”¨ `await ModalService.Hide(ModalInstance)`ï¼Œè€Œä¸æ˜¯ `ModalInstance.Hide()`
- Modal ç»„ä»¶ä¸­éœ€è¦åŒæ—¶æ³¨å…¥ `IModalService` å’Œæ¥æ”¶ `ModalInstance` ä½œä¸º CascadingParameter
- éœ€è¦æ·»åŠ  `using Blazorise;` å¼•ç”¨

````

**MudTabs â†’ Tabs**

```razor
<!-- MudBlazor -->
<MudTabs Elevation="0" Rounded="true">
    <MudTabPanel Text="åŸºæœ¬ä¿¡æ¯">
        ...
    </MudTabPanel>
    <MudTabPanel Text="HTTPè¯·æ±‚ä¿¡æ¯">
        ...
    </MudTabPanel>
</MudTabs>

<!-- Blazorise -->
<Tabs>
    <Tab Name="basic" Title="åŸºæœ¬ä¿¡æ¯">
        ...
    </Tab>
    <Tab Name="http" Title="HTTPè¯·æ±‚ä¿¡æ¯">
        ...
    </Tab>
</Tabs>
````

**MudExpansionPanels â†’ Collapse**

```razor
<!-- MudBlazor -->
<MudExpansionPanels Elevation="0" MultiExpansion="false">
    <MudExpansionPanel Text="æŸ¥çœ‹å‚æ•°" Icon="@Icons.Material.Filled.Code">
        ...
    </MudExpansionPanel>
</MudExpansionPanels>

<!-- Blazorise -->
<Collapse>
    <CollapseHeader>
        <Icon Name="IconName.Code" />
        æŸ¥çœ‹å‚æ•°
    </CollapseHeader>
    <CollapseBody>
        ...
    </CollapseBody>
</Collapse>
```

#### 2.6 æœåŠ¡æ›¿æ¢

**ISnackbar â†’ IMessageServiceï¼ˆæˆ– IToastServiceï¼‰**

```razor
<!-- MudBlazor -->
@inject ISnackbar Snackbar
Snackbar.Add("æ“ä½œæˆåŠŸ", Severity.Success);
Snackbar.Add("æ“ä½œå¤±è´¥", Severity.Error);
Snackbar.Add("æç¤ºä¿¡æ¯", Severity.Info);
Snackbar.Add("è­¦å‘Šä¿¡æ¯", Severity.Warning);

<!-- Blazorise - æ–¹å¼1ï¼šä½¿ç”¨ IMessageServiceï¼ˆå¦‚æœå¯ç”¨ï¼‰ -->
@inject IMessageService MessageService
await MessageService.Success("æ“ä½œæˆåŠŸ");
await MessageService.Error("æ“ä½œå¤±è´¥");
await MessageService.Info("æç¤ºä¿¡æ¯");
await MessageService.Warning("è­¦å‘Šä¿¡æ¯");

<!-- Blazorise - æ–¹å¼2ï¼šä½¿ç”¨ IToastServiceï¼ˆå¦‚æœ IMessageService ä¸å¯ç”¨ï¼‰ -->
@inject IToastService ToastService
await ToastService.Success("æ“ä½œæˆåŠŸ");
await ToastService.Error("æ“ä½œå¤±è´¥");
await ToastService.Information("æç¤ºä¿¡æ¯");
await ToastService.Warning("è­¦å‘Šä¿¡æ¯");
```

**é‡è¦è¯´æ˜**ï¼š

- éœ€è¦ç¡®è®¤ Blazorise 1.7.6 ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯ `IMessageService` è¿˜æ˜¯ `IToastService`
- å»ºè®®åœ¨é¡¹ç›®ä¸­æœç´¢æˆ–æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ç¡®è®¤æ­£ç¡®çš„æœåŠ¡æ¥å£
- å¦‚æœä¸¤è€…éƒ½ä¸å¯ç”¨ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ ABP æ¡†æ¶æä¾›çš„æ¶ˆæ¯æœåŠ¡

## ğŸ“ éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒé…ç½®æ–‡ä»¶

1. âœ… `PaperBellStore.Blazor.csproj` - ç§»é™¤ MudBlazor åŒ…å¼•ç”¨
2. âœ… `PaperBellStoreBlazorModule.cs` - ç§»é™¤æœåŠ¡æ³¨å†Œ
3. âœ… `_Imports.razor` - ç§»é™¤ MudBlazor å¼•ç”¨
4. âœ… `App.razor` - ç§»é™¤ CSS/JS å¼•ç”¨
5. âœ… `Routes.razor` - ç§»é™¤ Provider ç»„ä»¶

### é¡µé¢ç»„ä»¶æ–‡ä»¶

6. âœ… `RunningLog.razor` - æ›¿æ¢æ‰€æœ‰ MudBlazor ç»„ä»¶
7. âœ… `RunningLog.razor.cs` - æ›¿æ¢æœåŠ¡æ¥å£å’Œç±»å‹ï¼Œä¿®æ­£ DataGrid ReadData äº‹ä»¶å¤„ç†
8. âœ… `AuditLog.razor` - æ›¿æ¢æ‰€æœ‰ MudBlazor ç»„ä»¶
9. âœ… `AuditLog.razor.cs` - æ›¿æ¢æœåŠ¡æ¥å£å’Œç±»å‹
10. âœ… `LogDetailDialog.razor` - æ›¿æ¢ä¸º Blazorise Modal
11. âœ… `AuditLogDetailDialog.razor` - æ›¿æ¢ä¸º Blazorise Modal
12. âœ… `SimpleDialog.razor` - æ›¿æ¢ä¸º Blazorise Modalï¼ˆæˆ–åˆ é™¤ç¤ºä¾‹æ–‡ä»¶ï¼‰
13. âœ… `MudBlazorExample.razor` - åˆ é™¤æˆ–æ›¿æ¢ä¸º Blazorise ç¤ºä¾‹
14. âœ… `CustomPager.razor` - æ£€æŸ¥æ˜¯å¦éœ€è¦æ›¿æ¢ï¼ˆå¦‚æœä¾èµ– MudBlazorï¼‰

## ğŸš€ å®æ–½æ­¥éª¤

### é˜¶æ®µä¸€ï¼šå‡†å¤‡å·¥ä½œï¼ˆ1-2 å°æ—¶ï¼‰

1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ `feature/remove-mudblazor`
2. å¤‡ä»½å½“å‰ä»£ç 
3. åˆ›å»ºæµ‹è¯•æ¸…å•ï¼Œç¡®ä¿æ‰€æœ‰åŠŸèƒ½ç‚¹éƒ½æœ‰æµ‹è¯•è¦†ç›–

### é˜¶æ®µäºŒï¼šç§»é™¤é…ç½®å’Œä¾èµ–ï¼ˆ30 åˆ†é’Ÿï¼‰

1. ç§»é™¤ NuGet åŒ…å¼•ç”¨
2. ç§»é™¤æœåŠ¡æ³¨å†Œ
3. ç§»é™¤ CSS/JS å¼•ç”¨
4. ç§»é™¤ Provider ç»„ä»¶
5. ç¼–è¯‘é¡¹ç›®ï¼Œç¡®ä¿æ— ç¼–è¯‘é”™è¯¯

### é˜¶æ®µä¸‰ï¼šæ›¿æ¢ç»„ä»¶ï¼ˆ4-6 å°æ—¶ï¼‰

1. **ç®€å•ç»„ä»¶æ›¿æ¢**ï¼ˆ1-2 å°æ—¶ï¼‰

   - å¸ƒå±€ç»„ä»¶ï¼ˆContainer, Card, Row, Columnï¼‰
   - æ–‡æœ¬å’Œå›¾æ ‡ç»„ä»¶
   - åŸºç¡€è¡¨å•ç»„ä»¶

2. **å¤æ‚ç»„ä»¶æ›¿æ¢**ï¼ˆ2-3 å°æ—¶ï¼‰

   - DataGrid æ›¿æ¢ï¼ˆæ³¨æ„æœåŠ¡å™¨ç«¯æ•°æ®åŠ è½½ï¼‰
   - Modal/Dialog æ›¿æ¢ï¼ˆæ³¨æ„å‚æ•°ä¼ é€’ï¼‰
   - Tabs å’Œ Collapse æ›¿æ¢

3. **æœåŠ¡æ¥å£æ›¿æ¢**ï¼ˆ1 å°æ—¶ï¼‰
   - IDialogService â†’ IModalService
   - ISnackbar â†’ IMessageService
   - æ›´æ–°æ‰€æœ‰è°ƒç”¨ä»£ç 

### é˜¶æ®µå››ï¼šæµ‹è¯•å’Œä¿®å¤ï¼ˆ2-3 å°æ—¶ï¼‰

1. åŠŸèƒ½æµ‹è¯•

   - è¿è¡Œæ—¥å¿—é¡µé¢åŠŸèƒ½
   - å®¡è®¡æ—¥å¿—é¡µé¢åŠŸèƒ½
   - å¯¹è¯æ¡†åŠŸèƒ½
   - è¡¨å•éªŒè¯
   - åˆ†é¡µåŠŸèƒ½

2. UI/UX æ£€æŸ¥

   - æ ·å¼ä¸€è‡´æ€§
   - å“åº”å¼å¸ƒå±€
   - äº¤äº’ä½“éªŒ

3. ä¿®å¤é—®é¢˜
   - æ ·å¼è°ƒæ•´
   - åŠŸèƒ½ä¿®å¤
   - æ€§èƒ½ä¼˜åŒ–

### é˜¶æ®µäº”ï¼šæ¸…ç†å’Œæ–‡æ¡£ï¼ˆ1 å°æ—¶ï¼‰

1. åˆ é™¤ç¤ºä¾‹æ–‡ä»¶ï¼ˆå¦‚ MudBlazorExample.razorï¼‰
2. æ›´æ–°æ–‡æ¡£
3. ä»£ç å®¡æŸ¥
4. åˆå¹¶åˆ°ä¸»åˆ†æ”¯

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ ·å¼å·®å¼‚

- Blazorise å’Œ MudBlazor çš„æ ·å¼ç³»ç»Ÿä¸åŒï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„ CSS è°ƒæ•´
- å»ºè®®ä½¿ç”¨ Bootstrap å·¥å…·ç±»æ¥è¡¥å……æ ·å¼

### 2. åŠŸèƒ½å·®å¼‚

- **æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨**ï¼šBlazorise çš„ DateEdit å¯èƒ½éœ€è¦é¢å¤–é…ç½®æ¥æ”¯æŒæ—¶é—´é€‰æ‹©
- **å¯¹è¯æ¡†å‚æ•°ä¼ é€’**ï¼šBlazorise Modal çš„å‚æ•°ä¼ é€’æ–¹å¼ä¸ MudBlazor ä¸åŒ
- **æ•°æ®è¡¨æ ¼**ï¼šBlazorise DataGrid çš„ API ä¸ MudDataGrid æœ‰å·®å¼‚ï¼Œéœ€è¦ä»”ç»†è°ƒæ•´

### 3. å›¾æ ‡ç³»ç»Ÿ

- MudBlazor ä½¿ç”¨ Material Icons
- Blazorise ä½¿ç”¨ FontAwesomeï¼ˆå·²é…ç½®ï¼‰
- éœ€è¦å°† Material Icons æ˜ å°„åˆ° FontAwesome å›¾æ ‡

### 4. æšä¸¾ç±»å‹

- MudBlazor çš„ `Color`ã€`Size`ã€`Variant` ç­‰æšä¸¾éœ€è¦æ›¿æ¢ä¸º Blazorise å¯¹åº”æšä¸¾
- æ³¨æ„å‘½åç©ºé—´å†²çªå·²è§£å†³

### 5. æœåŠ¡å™¨ç«¯æ•°æ®åŠ è½½

- MudDataGrid çš„ `ServerData` æ˜¯æ–¹æ³•å§”æ‰˜ï¼š`Task<GridData<T>> LoadServerData(GridState<T> state)`
- Blazorise DataGrid çš„ `ReadData` æ˜¯äº‹ä»¶ï¼š`EventCallback<DataGridReadDataEventArgs<T>> ReadData`
- éœ€è¦å°†æ–¹æ³•æ”¹ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºï¼Œä½¿ç”¨ `DataGridReadDataEventArgs<T>` å‚æ•°
- é€šè¿‡ `e.Data` è®¾ç½®æ•°æ®ï¼Œ`e.TotalItems` è®¾ç½®æ€»æ•°
- åˆ†é¡µä¿¡æ¯é€šè¿‡ `e.Page` å’Œ `e.PageSize` è·å–
- æ’åºä¿¡æ¯é€šè¿‡ `e.SortBy` å’Œ `e.SortDirection` è·å–

### 6. CustomPager ç»„ä»¶

- é¡¹ç›®ä¸­å­˜åœ¨ `CustomPager.razor` ç»„ä»¶
- éœ€è¦æ£€æŸ¥è¯¥ç»„ä»¶æ˜¯å¦ä¾èµ– MudBlazor
- å¦‚æœä¾èµ–ï¼Œéœ€è¦æ›¿æ¢ä¸º Blazorise çš„å®ç°æˆ–ä½¿ç”¨ DataGrid å†…ç½®åˆ†é¡µå™¨

### 7. æ ·å¼è°ƒæ•´

- Blazorise å’Œ MudBlazor çš„æ ·å¼ç³»ç»Ÿä¸åŒ
- å¯èƒ½éœ€è¦é¢å¤–çš„ CSS è°ƒæ•´æ¥ä¿æŒè§†è§‰ä¸€è‡´æ€§
- å»ºè®®ä½¿ç”¨ Bootstrap å·¥å…·ç±»è¡¥å……æ ·å¼
- ç¤ºä¾‹ï¼šä½¿ç”¨ `class="mt-4"` æ›¿ä»£ `Class="mt-4"`ï¼ˆå¦‚æœ Blazorise ç»„ä»¶æ”¯æŒï¼‰

## ğŸ“š å‚è€ƒèµ„æº

- [Blazorise å®˜æ–¹æ–‡æ¡£](https://blazorise.com/docs/)
- [Blazorise DataGrid æ–‡æ¡£](https://blazorise.com/docs/components/datagrid)
- [Blazorise Modal æ–‡æ¡£](https://blazorise.com/docs/components/modal)
- [ABP Blazorise é›†æˆæ–‡æ¡£](https://docs.abp.io/en/abp/latest/UI/Blazor/Blazorise)

## âœ… éªŒæ”¶æ ‡å‡†

1. âœ… é¡¹ç›®å¯ä»¥æˆåŠŸç¼–è¯‘ï¼Œæ— é”™è¯¯
2. âœ… æ‰€æœ‰é¡µé¢åŠŸèƒ½æ­£å¸¸ï¼Œç”¨æˆ·ä½“éªŒä¸€è‡´
3. âœ… æ—  MudBlazor ç›¸å…³ä»£ç æ®‹ç•™
4. âœ… ä»£ç é€šè¿‡ä»£ç å®¡æŸ¥
5. âœ… æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡

## ğŸ¯ é¢„æœŸæ”¶ç›Š

1. **ç®€åŒ–ä¾èµ–**ï¼šå‡å°‘ä¸€ä¸ªç»„ä»¶åº“ä¾èµ–ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
2. **ç»Ÿä¸€ä½“éªŒ**ï¼šæ‰€æœ‰ç»„ä»¶ä½¿ç”¨åŒä¸€å¥—è®¾è®¡ç³»ç»Ÿ
3. **æ€§èƒ½æå‡**ï¼šå‡å°‘ CSS/JS åŠ è½½é‡ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦
4. **æ˜“äºç»´æŠ¤**ï¼šç»Ÿä¸€çš„ç»„ä»¶åº“ï¼Œé™ä½å­¦ä¹ æˆæœ¬

---

**é¢„è®¡æ€»è€—æ—¶**ï¼š10-15 å°æ—¶ï¼ˆå·²æ ¹æ®å®¡æŸ¥æŠ¥å‘Šè°ƒæ•´ï¼‰
**é£é™©ç­‰çº§**ï¼šä¸­é«˜é£é™©ï¼ˆDataGrid å’Œ Modal API å·®å¼‚è¾ƒå¤§ï¼‰
**å»ºè®®**ï¼šåˆ†é˜¶æ®µå®æ–½ï¼Œæ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸åå†ç»§ç»­

## ğŸ”§ å…³é”®ä¿®æ­£è¯´æ˜

æ ¹æ®å®é™…è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å’Œä¿®å¤æ–¹æ¡ˆï¼Œä»¥ä¸‹å†…å®¹å·²ä¿®æ­£ï¼š

1. âœ… **DataGrid ReadData äº‹ä»¶å¤„ç†**ï¼š

   - æ’åºä¿¡æ¯ä» `e.Columns` è·å–ï¼Œè€Œä¸æ˜¯ `e.SortBy` å’Œ `e.SortDirection`
   - ä½¿ç”¨ `SortDirection.Default` è¡¨ç¤ºæ— æ’åºï¼Œè€Œä¸æ˜¯ `SortDirection.None`ï¼ˆä¸å­˜åœ¨ï¼‰
   - éœ€è¦åœ¨ç»„ä»¶ä¸­ç»´æŠ¤æ•°æ®åˆ—è¡¨ï¼ˆå¦‚ `logItems`ï¼‰ï¼Œå¹¶åœ¨ DataGrid ä¸Šç»‘å®š `Data="@logItems"` å’Œ `TotalItems="@totalCount"`

2. âœ… **Modal å‚æ•°ä¼ é€’**ï¼š

   - âœ… **å·²éªŒè¯**ï¼šä½¿ç”¨ `builder.Add(x => x.Property, value)` è¡¨è¾¾å¼è¯­æ³•
   - âŒ **é”™è¯¯æ–¹å¼**ï¼šä¸è¦ä½¿ç”¨ `AddParameter` æ–¹æ³•ï¼ˆä¸å­˜åœ¨ï¼‰
   - âŒ **é”™è¯¯æ–¹å¼**ï¼šä¸è¦ä½¿ç”¨å­—å…¸æ–¹å¼ä¼ å‚ï¼ˆAPI ä¸æ”¯æŒï¼‰

3. âœ… **ModalInstance å…³é—­æ–¹å¼**ï¼š

   - âœ… **å·²éªŒè¯**ï¼šä½¿ç”¨ `await ModalService.Hide(ModalInstance)`ï¼Œè€Œä¸æ˜¯ `ModalInstance.Hide()`
   - Modal ç»„ä»¶ä¸­éœ€è¦åŒæ—¶æ³¨å…¥ `IModalService` å’Œæ¥æ”¶ `ModalInstance` ä½œä¸º CascadingParameter

4. âœ… **Text ç»„ä»¶é™åˆ¶**ï¼š

   - âœ… **å·²éªŒè¯**ï¼šBlazorise çš„ `Text` ç»„ä»¶ä¸æ”¯æŒ `Class` å±æ€§ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ `RZ1023`
   - å¦‚æœéœ€è¦æ·»åŠ  CSS ç±»ï¼Œä½¿ç”¨ HTML æ ‡ç­¾ï¼ˆå¦‚ `<div>`, `<span>`, `<p>` ç­‰ï¼‰

5. âœ… **æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨**ï¼šå·²è¡¥å……å®Œæ•´çš„ DateEdit + TimeEdit ç»„åˆæ–¹æ¡ˆ

6. âœ… **æ¶ˆæ¯æœåŠ¡**ï¼šå·²æä¾› IMessageService å’Œ IToastService ä¸¤ç§å¯èƒ½

7. âœ… **CustomPager**ï¼šå·²æ·»åŠ åˆ°æ–‡ä»¶æ¸…å•

8. âœ… **æ ·å¼è°ƒæ•´**ï¼šå·²è¡¥å……è¯´æ˜

9. âœ… **å¿…éœ€çš„ using å¼•ç”¨**ï¼š
   - `using Blazorise;` - ç”¨äº IModalServiceã€Color æšä¸¾ç­‰
   - `using Blazorise.DataGrid;` - ç”¨äº DataGridReadDataEventArgsã€SortDirection ç­‰

## âš ï¸ å®æ–½å‰å¿…è¯»

1. **API ç¡®è®¤**ï¼šâœ… **å·²å®ŒæˆéªŒè¯**ï¼Œä»¥ä¸‹ API ä½¿ç”¨æ–¹å¼å·²åœ¨å®é™…è¿ç§»ä¸­éªŒè¯ï¼š

   - âœ… Modal å‚æ•°ä¼ é€’ï¼šä½¿ç”¨ `builder.Add(x => x.Property, value)` è¡¨è¾¾å¼è¯­æ³•
   - âœ… Modal å…³é—­ï¼šä½¿ç”¨ `await ModalService.Hide(ModalInstance)`
   - âœ… DataGrid æ’åºï¼šä» `e.Columns` è·å–ï¼Œä½¿ç”¨ `SortDirection.Default` è¡¨ç¤ºæ— æ’åº
   - âœ… DataGrid æ•°æ®ç»‘å®šï¼šéœ€è¦åœ¨ç»„ä»¶ä¸­ç»´æŠ¤æ•°æ®åˆ—è¡¨ï¼Œç»‘å®š `Data` å’Œ `TotalItems` å±æ€§
   - âš ï¸ æ¶ˆæ¯æœåŠ¡ï¼šéœ€è¦ç¡®è®¤é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ `IMessageService` è¿˜æ˜¯ `IToastService`

2. **å¸¸è§é”™è¯¯é¿å…**ï¼š

   - âŒ ä¸è¦ä½¿ç”¨ `builder.AddParameter()` - æ–¹æ³•ä¸å­˜åœ¨
   - âŒ ä¸è¦ä½¿ç”¨ `ModalInstance.Hide()` - åº”è¯¥ä½¿ç”¨ `ModalService.Hide(ModalInstance)`
   - âŒ ä¸è¦ä½¿ç”¨ `e.SortBy` å’Œ `e.SortDirection` - åº”è¯¥ä» `e.Columns` è·å–
   - âŒ ä¸è¦ä½¿ç”¨ `SortDirection.None` - åº”è¯¥ä½¿ç”¨ `SortDirection.Default`
   - âŒ ä¸è¦åœ¨ `Text` ç»„ä»¶ä¸Šä½¿ç”¨ `Class` å±æ€§ - ä½¿ç”¨ HTML æ ‡ç­¾ä»£æ›¿

3. **å¤‡ä»½ä»£ç **ï¼šåœ¨å¼€å§‹æ›¿æ¢å‰ï¼Œç¡®ä¿å·²åˆ›å»ºåŠŸèƒ½åˆ†æ”¯å¹¶å¤‡ä»½å…³é”®æ–‡ä»¶

## ğŸ’¡ å®é™…è¿ç§»ç»éªŒæ€»ç»“

åŸºäºæœ¬æ¬¡å®Œæ•´è¿ç§»çš„ç»éªŒï¼Œä»¥ä¸‹æ˜¯å…³é”®è¦ç‚¹ï¼š

### âœ… å·²éªŒè¯çš„æ­£ç¡®åšæ³•

1. **Modal å‚æ•°ä¼ é€’**ï¼š

   ```csharp
   await ModalService.Show<LogDetailDialog>(builder =>
   {
       builder.Add(x => x.Log, log);
   });
   ```

2. **Modal å…³é—­**ï¼š

   ```csharp
   [Inject] protected IModalService ModalService { get; set; } = default!;
   [CascadingParameter] protected ModalInstance ModalInstance { get; set; } = default!;

   private async Task Cancel()
   {
       await ModalService.Hide(ModalInstance);
   }
   ```

3. **DataGrid æœåŠ¡å™¨ç«¯æ•°æ®åŠ è½½**ï¼š

   ```csharp
   private List<AppLog>? logItems;
   private int totalCount = 0;

   private async Task OnReadData(DataGridReadDataEventArgs<AppLog> e)
   {
       // ... æŸ¥è¯¢é€»è¾‘ ...
       logItems = items;
       totalCount = totalCount;
   }
   ```

   ```razor
   <DataGrid TItem="AppLog" Data="@logItems" TotalItems="@totalCount" ReadData="@OnReadData">
   ```

4. **DataGrid æ’åºå¤„ç†**ï¼š

   ```csharp
   if (e.Columns != null && e.Columns.Any(c => c.SortDirection != SortDirection.Default))
   {
       var sortColumn = e.Columns.FirstOrDefault(c => c.SortDirection != SortDirection.Default);
       // ä½¿ç”¨ sortColumn.Field å’Œ sortColumn.SortDirection
   }
   ```

5. **Text ç»„ä»¶ä½¿ç”¨**ï¼š
   - çº¯æ–‡æœ¬ï¼šä½¿ç”¨ `<Text>...</Text>`
   - éœ€è¦æ ·å¼ç±»ï¼šä½¿ç”¨ `<div class="...">` æˆ– `<span class="...">`

### âŒ å¸¸è§é”™è¯¯

1. `builder.AddParameter()` - æ–¹æ³•ä¸å­˜åœ¨
2. `ModalInstance.Hide()` - åº”è¯¥ä½¿ç”¨ `ModalService.Hide(ModalInstance)`
3. `e.SortBy` å’Œ `e.SortDirection` - åº”è¯¥ä» `e.Columns` è·å–
4. `SortDirection.None` - åº”è¯¥ä½¿ç”¨ `SortDirection.Default`
5. `<Text Class="...">` - Text ç»„ä»¶ä¸æ”¯æŒ Class å±æ€§

### ğŸ“¦ å¿…éœ€çš„å¼•ç”¨

```csharp
using Blazorise;
using Blazorise.DataGrid;
```

### ğŸ” è°ƒè¯•æŠ€å·§

1. é‡åˆ°ç¼–è¯‘é”™è¯¯æ—¶ï¼Œä¼˜å…ˆæ£€æŸ¥ï¼š

   - æ˜¯å¦æ­£ç¡®æ·»åŠ äº† `using` å¼•ç”¨
   - API æ–¹æ³•åæ˜¯å¦æ­£ç¡®ï¼ˆå¦‚ `Add` vs `AddParameter`ï¼‰
   - æšä¸¾å€¼æ˜¯å¦æ­£ç¡®ï¼ˆå¦‚ `Default` vs `None`ï¼‰

2. è¿è¡Œæ—¶é—®é¢˜æ’æŸ¥ï¼š
   - æ£€æŸ¥ Modal æ˜¯å¦æ­£ç¡®æ³¨å…¥ `IModalService`
   - æ£€æŸ¥ DataGrid æ˜¯å¦æ­£ç¡®ç»‘å®š `Data` å’Œ `TotalItems`
   - æ£€æŸ¥äº‹ä»¶å¤„ç†ç¨‹åºç­¾åæ˜¯å¦æ­£ç¡®
